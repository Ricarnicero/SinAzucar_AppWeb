function windowUpdated() { this.isMainWindow() === !1 && (location.href = "SesionExpirada.aspx") } var statusWindow = document.getElementById("status"); !function (a) { function k(a, b) { j = b, i = a, h = Date.now().toString(), n(), l.call(this), d = !0, j.call(this) } function l() { var a = this, f = e; g = localStorage.getItem(b), g = null === g || "NaN" === g ? [] : JSON.parse(g), d ? e = g.length <= 1 || (i ? g[g.length - 1] : g[0]) === h ? !0 : !1 : 0 === g.length ? (e = !0, g[0] = h, localStorage.setItem(b, JSON.stringify(g))) : (e = !1, g.push(h), localStorage.setItem(b, JSON.stringify(g))), f !== e && j.call(this), setTimeout(function () { l.call(a) }, c) } function m() { for (var a = JSON.parse(localStorage.getItem(b)), c = 0, d = a.length; c < d; c++) if (a[c] === h) { a.splice(c, 1); break } localStorage.setItem(b, JSON.stringify(a)) } function n() { a.addEventListener("beforeunload", function () { f || m() }), a.addEventListener("unload", function () { f || m() }) } var g, h, j, b = "WINDOW_VALIDATION", c = 100, d = !1, e = !1, f = !1, i = !1; k.prototype.isMainWindow = function () { return e }, k.prototype.resetWindows = function () { localStorage.removeItem(b) }, a.WindowStateManager = k }(window); var WindowStateManager = new WindowStateManager(!0, windowUpdated);